## Software Architecture Document

### 架构问题

### 可靠性和可恢复性

- 因素：安卓app使用过程中出现访问服务端网络中断问题并进行恢复
- 度量和质量场景：当app访问服务端中断时，在正常的工作环境下，如果在15s内检测到其恢复，则重新建立连接
- 可变性：在能够重新建立连接之前，可以在app进行信息反馈和错误处理
- 该因素对涉众、架构以及其他因素的影响 ：app用户的访问数据可能会发生丢失，无法传递给服务端
- 对于成功的优先级 ：高
- 困难或风险：中等

### 可支持性和可适用性

- 因素：支持多种可变的第三方服务（支付系统等）
- 度量和质量场景：当后端访问第三方系统时可正常建立连接
- 可变性：对于不同的第三方服务后端提供可连接的接口
- 该因素对涉众、架构以及其他因素的影响 ：提高后端的可扩展性
- 对于成功的优先级 ：中等
- 困难或风险：中等

## 解决方案说明

### 如何提高服务器性能

- 提高服务器的规格，例如核心数量和内存
- 增加后端服务部署数量，并配置负载均衡
- 使用第三方对象存储系统，将文件服务托付给第三方对象存储系统，减少后端负载。
- 将一些经常访问并且变化较少的数据在后端做缓存，使下次访问数据直接从缓存中读取，而不必读取处理速度较慢的数据库。
- 优化数据库的查询SQL，避免使用代价高昂的查询，每次查询只返回自己需要的结果；避免短时间内的大量SQL查询
- 数据库适当建立索引
- 数据库定期备份，当数据库出现操作失误或系统故障导致数据丢失时可以恢复数据

### 逻辑视图

![](https://github.com/early-month-subsidy/dashboard/blob/gh-pages/assets/images/Logic-view.png?raw=true)

### 物理视图

![](https://github.com/early-month-subsidy/dashboard/blob/gh-pages/assets/images/Physical-view.png?raw=true)